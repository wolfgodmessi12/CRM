<%
  # app/views/notes/_index.html.erb
  #
  # Example:
  #   render partial: 'notes/index', locals: { presenter: Contacts::Notes::Presenter }
  #
  # Instance Variables:
  #   none
  #
  # Local Variables:
  #   (req) presenter: (Contacts::Notes::Presenter)
  #
  return unless local_assigns.dig(:presenter).is_a?(Contacts::Notes::Presenter)
-%>
<%= render partial: 'notes/note_form', locals: { contact_note: presenter.contact.notes.new(user_id: current_user), presenter: } %>

<% if presenter.contact_notes? %>
  <div class="table-responsive">
    <table class="table">

      <thead>
        <tr>
          <th colspan="3" style="min-width: 240px"> User </th>
          <th> Note </th>
          <th> Created </th>
          <th style="width:100px;min-width:100px;"></th>
        </tr>
      </thead>

      <tbody>
        <%= render partial: 'notes/note', collection: presenter.contact_notes, as: :note, locals: { presenter: } -%>
      </tbody>
    </table>
  </div>
<% end %>
