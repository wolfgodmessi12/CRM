<%
	# app/views/user_contact_forms/v2/frame/show.html.erb
	# 
	# Example:
	# 	render "user_contact_forms/v2/frame/show"
	# 
	# Required Instance Variables:
	# 	@user_contact_form: (UserContactForm)
	# 
	# Required Local Variables:
	#   none
	# 
-%>
<!DOCTYPE html>
<html lang="en">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">
	<meta name="keywords" content="">
	<title><%= @user_contact_form.title -%></title>

	<%= csrf_meta_tags %>
	<%= csp_meta_tag %>
	
	<%= javascript_include_tag 'contact_form' %>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<!-- Popper JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

	<!-- SweetAlert -->
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>

	<!-- FlatPickr -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
	<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
	<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Montserrat:400,500,700&display=swap' type='text/css'>
	
	<style>
		body {
			background-image: url("<%= @user_contact_form.background_image.attached? ? cl_image_path( @user_contact_form.background_image.key, secure: true) : "" -%>");
			background-position: center 100px;
			background-size: cover;
			background-repeat: no-repeat;
			background-attachment: fixed;
			font-family: 'Montserrat', sans-serif;
		}
		.rounded {
			border-radius: 25px !important;
		}
	</style>
</head>
<body style="background-color:<%= @user_contact_form.body_bg_color.to_s -%>;">
	<%= render partial: "user_contact_forms/v2/frame/body" %>

	<script>
		$(document).ready( function() {
			<%= render partial: 'snippets/js/flash_alert', formats: [:js] %>

			var tenantHeight = parseInt(window.getComputedStyle(document.getElementById('tenant-quicklead-form'), null).height) + 50;
			var tenantWidth  = parseInt(window.getComputedStyle(document.getElementById('tenant-quicklead-form'), null).width) + 80;
			window.parent.postMessage('{"action":"setatt_quicklead_frame","width":"' + (tenantWidth) + '","height":"' + (tenantHeight) + '"}', '*');
		});
	</script>
</body>
</html>
