<%
  # app/views/integrations/email/v1/js/_show.js.erb
  #
  # Example:
  #   render partial: 'integrations/email/v1/js/show', locals: { cards: Array }
  #
  # Required Instance Variables:
  #   cards: Array
  #
  # Required Local Variables:
  #   none
  #
  presenter = local_assigns.dig(:presenter) || Integrations::Email::V1::Presenter.new(client_api_integration: @client_api_integration)
-%>
// Menu
<% if cards.include?('menu') %>
  $('#email_page_nav').html('<%= j render partial: 'integrations/email/v1/menu', locals: { presenter: } -%>');
<% end %>

// Connection
<% if cards.include?('connections_edit') %>
  $('#email_integration_page_section').html('<%= j render partial: 'integrations/email/v1/connections/edit', locals: { presenter: } -%>');
<% end %>

// Domain Verifications
<% if cards.include?('domain_verifications') %>
  $('#email_integration_page_section').html('<%= j render partial: 'integrations/email/v1/domain_verifications/show', locals: { presenter: } -%>');
<% end %>

// Instructions
<% if cards.include?('instructions') %>
  $('#email_integration_page_section').html('<%= j render partial: 'integrations/email/v1/instructions/show', locals: { presenter: } -%>');
<% end %>

// Overview
<% if cards.include?('overview') %>
  $('#email_integration_page_section').html('<%= j render partial: 'integrations/email/v1/overview', locals: { presenter: } -%>');
<% end %>

// Stats
<% if cards.include?('stats') %>
  $('.metric-flush').append('<%= j render partial: 'integrations/email/v1/stats/show', locals: { presenter: } -%>');
  $('#spinner').hide();
<% end %>

<%= render partial: 'snippets/js/flash_alert', formats: [:js] %>

Looper.init();
