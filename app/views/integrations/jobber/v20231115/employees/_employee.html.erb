<%
  # app/views/integrations/jobber/v20231115/employees/_employee.html.erb
  #
  # Example:
  #   render partial: "integrations/jobber/v20231115/employees/employee", collection: @client_api_integration.employees, as: :employee, locals: { presenter: Integrations::Jobber::V20231115::Presenter }
  #
  # Instance Variables:
  #   none
  #
  # Local Variables:
  #   (req) presenter: (Integrations::Jobber::V20231115::Presenter)
  #
  return unless local_assigns.dig(:presenter).is_a?(Integrations::Jobber::V20231115::Presenter)
-%>
<tr>
  <td>
    <%= employee[:name][:full] -%> <small>(<%= employee[:id] -%>)</small><br>
  </td>
  <td>
    <%= bootstrap_select_tag(
          field:    "employees[#{employee[:id]}]",
          row:      { columns: [0, 12] },
          options:  { for_select: options_from_collection_for_select(presenter.client_api_integration.client.users, 'id', 'fullname', presenter.client_api_integration.employees.dig(employee[:id].to_s)), blank: 'Select a User' },
          messages: { note: "Select a matching #{I18n.t('tenant.name')} User." }
        ) %>
  </td>
</tr>
