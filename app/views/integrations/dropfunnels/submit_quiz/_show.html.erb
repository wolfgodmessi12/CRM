<%
  # /Users/Kevin/Rails Projects/funyl/app/views/integrations/dropfunnels/submit_quiz/_show.html.erb
  #
  # Example:
  #   render partial: 'xxx/_show.html.erb', collection: @client.tags.order( :name ), locals: {  }
  #
  # Required Instance Variables:
  #   none
  #
  # Required Local Variables:
  #   none
  #
-%>
<div class="card card-fluid card-margins-mobile">
  <h6 class="card-header">Submit Quiz</h6>
  <div class="card-body">

    <%= form_with model: @client_api_integration, url: integrations_dropfunnels_submit_quiz_path, builder: LooperFormBuilder, remote: true, method: :put, class: 'needs-validation', novalidate: true do |f| %>

      <%= render partial: 'campaigns/action_fields', locals: {
            client: @client_api_integration.client,
            campaign_id: @client_api_integration.submit_quiz['campaign_id'].to_i, campaign_id_field: 'client_api_integration[submit_quiz][campaign_id]',
            group_id: @client_api_integration.submit_quiz['group_id'].to_i, group_id_field: 'client_api_integration[submit_quiz][group_id]',
            tag_id: @client_api_integration.submit_quiz['tag_id'].to_i, tag_id_field: 'client_api_integration[submit_quiz][tag_id]',
            stage_id: @client_api_integration.submit_quiz['stage_id'].to_i, stage_id_field: 'client_api_integration[submit_quiz][stage_id]',
            stop_campaign_ids:@client_api_integration.submit_quiz['stop_campaign_ids'], stop_campaign_ids_field: 'client_api_integration[submit_quiz][stop_campaign_ids]'
          } %>

      <%= f.submit_buttons buttons: [{ title: 'Save Submit Quiz Actions', id: 'client_api_integration_form_submit', disable_with: 'Saving Submit Quiz Actions' }] %>
    <% end %>
  </div>
</div>

<script>
  $(function() {
    $('.nav-link').removeClass('active');
    $('#link_submit_quiz').addClass('active');
    $('#breadcrumb').show();
  });
</script>
